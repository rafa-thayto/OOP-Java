import javax.swing.JOptionPane;

/**
 * Programa realiza cálculo de IMC
 * para agilizar o atendimento de pacientes.
 * 
 * @author Rafael Thayto Tani
 *
 */
public class Imc {

	public static void main(String[] args) {
		// Variável de repeticao do algoritmo
		int repetir;
		do {
			/*	Solicita ao usuário para inserir seu peso
			 *  e se o usuário clicar em cancelar encerra o algoritmo
			 *  se não tranforma o peso de String para Double e executa
			 *  normalmente o algoritmo.
			 */
			String p = JOptionPane.showInputDialog(null, "Qual o seu Peso?", "Peso", JOptionPane.QUESTION_MESSAGE);
			if (p == null || p.isEmpty()) {
				break;
			}
			double peso = Double.parseDouble(p);
	
			/*   Solicita ao usuário para inserir sua altura
		   	 *   e se o usuário clicar em cancelar encerra o algoritmo
		   	 *   se não transforma sua altura de String para Double e
		   	 *   executa normalmente o algoritmo.
		   	 */
			String a = JOptionPane.showInputDialog(null, "Qual a sua altura?", "Altura",  JOptionPane.QUESTION_MESSAGE);
			if (a == null || a.isEmpty()) {
				break;
			}
			double altura = Double.parseDouble(a);
			
			//	Realiza o cálculo do IMC e armazena em uma variável
			double imc = calculoImc(peso, altura);
			String msg = classificacaoImc(imc);
			JOptionPane.showMessageDialog(null, "IMC: " + imc + "\n Status: " + msg, "Status do Paciente", JOptionPane.INFORMATION_MESSAGE);
			
			// Caso o usuário deseje repetir o algoritmo
			// 0 = yes | 1 = no
			repetir = JOptionPane.showConfirmDialog(null, "Deseja calcular novamente?", "IMC", JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);
		} while(repetir == 0);
	} // Fim método main
	
//	Método que retorna o cálculo do IMC
	public static double calculoImc(double peso, double altura) {
		// Fórmula IMC
		return peso/Math.pow(altura, 2);
	} // Fim metodo calculoImc
	
//	Método que retorna o classificação do paciente
	public static String classificacaoImc(double imc) {
		// Variável de armazenamento da mensagem que será exibida
		String msg;
		
		if (imc < 18.5) {
			msg = "Abaixo do peso normal!";
		} else if (imc >= 18.5 && imc < 25) {
			msg = "Peso normal!";
		} else if (imc >= 25 && imc < 30) {
			msg = "Excesso de peso!";
		} else if (imc >=30 && imc < 35) {
			msg = "Obesidade classe I";
		} else if (imc >= 35 && imc < 40) {
			msg = "Obesidade classe II";
		} else {
			msg = "Obesidade classe III";
		}
		
		return msg;
	} // Fim metodo classificacaoIMC
} // Fim da classe

